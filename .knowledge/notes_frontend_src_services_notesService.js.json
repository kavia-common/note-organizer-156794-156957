{"is_source_file": true, "format": "JavaScript", "description": "This file defines functions for managing notes, including CRUD operations, local storage fallback, and synchronization with a backend service (Supabase). It includes utilities for normalizing notes, filtering, and handling tags.", "external_files": ["../supabaseClient"], "external_methods": ["getSupabaseClient"], "published": ["listNotes", "createNote", "updateNote", "deleteNote", "getAllTags"], "classes": [], "methods": [{"name": "uid()", "description": "Generates a simple unique id for local storage fallback.", "scope": "", "scopeKind": ""}, {"name": "normalizeNote(n)", "description": "Normalizes a note object to the app's expected shape.", "scope": "", "scopeKind": ""}, {"name": "lsRead()", "description": "Reads notes from localStorage.", "scope": "", "scopeKind": ""}, {"name": "lsWrite(notes)", "description": "Writes notes to localStorage.", "scope": "", "scopeKind": ""}, {"name": "filterNotes(notes, term = '', tag = '')", "description": "Filters notes based on search term and tag, sorts by update date descending.", "scope": "", "scopeKind": ""}, {"name": "createNote({ title = 'Untitled', content = '', tags = [] } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getAllTags()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listNotes({ search = '', tag = '' } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateNote(id, updates)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getSupabaseClient", "localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "Date", "console.error", "supabase.from", "supabase.from().select", "supabase.from().order", "supabase.from().contains", "supabase.from().insert", "supabase.from().update", "supabase.from().delete", "supabase.from().select().single", "supabase.from().delete().eq", "supabase.from().select().maybeSingle"], "search-terms": ["notes", "localStorage", "normalizeNote", "sync", "Supabase", "CRUD", "filterNotes", "tags", "getSupabaseClient"], "state": 2, "file_id": 14, "knowledge_revision": 46, "git_revision": "f8a5263b15ad74d8a4dd37232dc35be7bf875859", "revision_history": [{"28": ""}, {"46": "f8a5263b15ad74d8a4dd37232dc35be7bf875859"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^const STORAGE_KEY = 'notes_local_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^export async function createNote({ title = 'Untitled', content = '', tags = [] } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title = 'Untitled', content = '', tags = [] } = {})"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "filterNotes", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^function filterNotes(notes, term = '', tag = '') {$/", "language": "JavaScript", "kind": "function", "signature": "(notes, term = '', tag = '')"}, {"_type": "tag", "name": "getAllTags", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^export async function getAllTags() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^export async function listNotes({ search = '', tag = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ search = '', tag = '' } = {})"}, {"_type": "tag", "name": "lsRead", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^function lsRead() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "lsWrite", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^function lsWrite(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "normalizeNote", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^function normalizeNote(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^      const payload = { title, content, tags, created_at: now, updated_at: now };$/", "language": "JavaScript", "kind": "field", "scope": "createNote.payload", "scopeKind": "class"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^function uid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/note-organizer-156794-156957/notes_frontend/src/services/notesService.js", "pattern": "/^export async function updateNote(id, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, updates)"}], "hash": "9628a9d7b9449747e5617123355f702e", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/notesService.js", "fields": [{"name": "const payload = { title, content, tags, created_at: now, updated_at: now };", "scope": "createNote.payload", "scopeKind": "class", "description": "unavailable"}]}